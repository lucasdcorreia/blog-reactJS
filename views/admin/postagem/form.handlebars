{{#each erros}}
<div class="alert alert-danger" role="alert">{{texto}}</div>
{{else}}
{{/each}}

<div class="container mb-4">
  <div class="card mt-4">
    <div class="card-body">
      {{#if postagem}}
      <h2>Atualizar Postagem</h2>
      <form action="/postagem/update" method="post">

        <input type="hidden" name="id" value="{{postagem._id}}">
        <label for="titulo" class="mt-2">Título </label>
        <input type="text" name="titulo" id="titulo" value="{{postagem.titulo}}" placeholder="Título da postagem"
          class="form-control" required>

        <label for="slug" class="mt-2">Slug </label>
        <input type="text" name="slug" id="slug" value="{{postagem.slug}}" placeholder="slug" class="form-control"
          required>

        <label for="descricao" class="mt-2">Descrição </label>
        <input type="text" name="descricao" id="descricao" value="{{postagem.descricao}}" placeholder="descricao"
          class="form-control" required>

        <label for="conteudo" class="mt-2">Conteúdo</label>
        <textarea name="conteudo" id="conteudo" class='form-control' cols="30" rows="10"
          required>{{postagem.conteudo}}</textarea>
        <br>

        {{!-- select --}}
        <label for="categoria">Categoria</label>
        <select name="categoria" class="form-select" id="categoria">
          <option selected value="{{postagem.categoria._id}}">{{postagem.categoria.nome}}</option>
          {{#each categorias}}
          <option value="{{_id}}">{{nome}}</option>
          {{else}}
          <option value="0">Não existem categorias cadastradas</option>
          {{/each}}
        </select>
        <br>

        {{!-- botões-atualizar --}}
        <div class="row">
          <div class="col">
            <a href="/postagem/">
              <button class="btn btn-danger" type="button">Cancelar</button>
            </a>
          </div>
          <div class="col-md-2 offset-md-1">
            <button class="btn btn-success" type="submit">Atualizar</button>
          </div>
        </div>
      </form>


      {{else}}
      <h2>Nova Postagem</h2>
      <form action="/postagem/nova" method="post">

        <label for="titulo" class="mt-2">Titulo </label>
        <input type="text" name="titulo" id="titulo" placeholder="Título da postagem" class="form-control" required>
        <label for="slug" class="mt-2">Slug </label>
        <input type="text" name="slug" id="slug" placeholder="slug" class="form-control" required>
        <label for="descricao" class="mt-2">Descrição </label>
        <input type="text" name="descricao" id="descricao" placeholder="descricao" class="form-control" required>
        <label for="conteudo" class="mt-2">Conteúdo</label>
        <textarea name="conteudo" id="conteudo" class='form-control' cols="30" rows="10" required></textarea>
        <br>
        <label for="categoria">Categoria</label>
        <select name="categoria" class="form-select" id="categoria">
          <option selected>Open this select menu</option>
          {{#each categorias}}
          <option value="{{_id}}">{{nome}}</option>
          {{else}}
          <option value="0">Não existem categorias cadastradas</option>
          {{/each}}
        </select>
        <br>
        <div class="row">
          <div class="col">
            <a href="/postagem/">
              <button class="btn btn-danger" type="button">Cancelar</button>
            </a>
          </div>
          <div class="col-md-2 offset-md-1">
            <a href="/categoria/create">
              <button class="btn btn-success" type="submit">Nova postagem</button>
            </a>
          </div>
        </div>

      </form>
      {{/if}}
    </div>
  </div>

</div>